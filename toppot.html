<html>
  <head>
    <title>Top Pot Simulator</title>
    <link rel="stylesheet" type="text/css" href="stylindonut.css">
  </head>
  <body>
    <header>
      <nav>
        <ul>
          <li>
            <article>
              <a href="#About">About us</a>
            </article>
          </li>
          <li>
            <article>
              <a href="#Pictures">Pictures</a>
            </article>
          </li>
          <li>
            <article>
              <a href="#Report">Report</a>
            </article>
          </li>
          <li>
            <article>
              <a href="#Locations">Locations</a>
            </article>
          </li>
          <li>
            <article>
              <a href="#Contacts">Contacts</a>
            </article>
          </li>
        </ul>
      </nav>
    </header>

    <section class="about">
      <a name="About"></a>
      <h1>About us:</h1>
        <p>
        We provide sample report for how many donuts are needed per hour for
        several location near Seattle Area.
        </p>
    </section>

    <section>
      <a name="Pictures"></a>
      <h1>Pictures:</h1>
      <img src="http://www.kumandgo.com/content/uploads/2013/05/Donuts.jpg"/>
      <img src="http://www.kumandgo.com/content/uploads/2013/05/Donuts.jpg"/>
      <img src="http://www.kumandgo.com/content/uploads/2013/05/Donuts.jpg"/>
      <img src="http://www.kumandgo.com/content/uploads/2013/05/Donuts.jpg"/>
      <img src="http://www.kumandgo.com/content/uploads/2013/05/Donuts.jpg"/>
      <img src="http://www.kumandgo.com/content/uploads/2013/05/Donuts.jpg"/>
    </section>

    <section>
      <a name="Report"></a>
      <h1>Sample Report:</h1>
      <table border = "1">
        <tbody class="Report">
          <tr id="tabletop">
            <th>Location\Hour</th>
            <th>5AM</th>
            <th>6AM</th>
            <th>7AM</th>
            <th>8AM</th>
            <th>9AM</th>
            <th>10AM</th>
            <th>11AM</th>
            <th>12PM</th>
            <th>1PM</th>
            <th>2PM</th>
            <th>3PM</th>
            <th>4PM</th>
            <th>Total Per Day</th>
            <th>Average donuts Per Hour</th>
          </tr>
        </tbody>
      </table>
    </section>

    <section class="Location">
      <a name="Locations"></a>
      <h1>Locations:</h1>
    </section>

    <section>
      <a name="Contacts"></a>
      <h1>Contact us:</h1>
      <p><b>Phone number:</b> 2060DONUTS0</p>
      <p><b>Email:</b> fakedonuts@phonydonutsite.com</p>
    </section>

    <script src="http://code.jquery.com/jquery-1.11.3.js"></script>
    <script>
      var DonutMaster = function(){
        this.donutShops = [];
        this.addShop = function( toppotshop ){
          this.donutShops.push( toppotshop );
        };
        this.generateReport = function(){
          //Used string concatenation because appending <tr> tag would automatically add a closing tag
          //then it uses append
          for( var index = 0; index < this.donutShops.length; index++ ){
            var table="";
            table += "<tr class=\"" + this.donutShops[index].location + "\">";
            table += "<th class=\"" + this.donutShops[index].location.toLowerCase() + "\">" + this.donutShops[index].location + "</th>";
            for (var index2 = 0; index2 < this.donutShops[index].donutsPerHour.length; index2++ ){
              table += "<td style=\"display: none\">" + this.donutShops[index].donutsPerHour[index2] + "</td>";
            }
            table += "<td style=\"display: none\">" + this.donutShops[index].getDonutsPerDay() + "</td>";
            table += "<td style=\"display: none\">" + Math.round( this.donutShops[index].getDonutsPerDay() / ( this.donutShops[index].close - this.donutShops[index].open ) ) + "</td>";
            table += "</td>";
            $( ".Report" ).append( table );
          }
        };
        this.generateLocation = function(){
          for( var index = 0; index < this.donutShops.length; index++ ){
            $( ".Location" ).append( "<p><b>" + this.donutShops[index].location + ":</b> " + this.donutShops[index].address + "</p>" );
          }
        };
      };

      var TopPot = function( location, minph, maxph, avgpc, address ){
        this.location = location;
        this.minCustomerPerHour = minph;
        this.maxCustomerPerHour = maxph;
        this.avgDonutsPerCustomer = avgpc;
        this.open = 5;
        this.close = 17;
        this.customerRange = maxph - minph;
        this.address = address;
        this.donutsPerHour = [];
        this.getDonutsPerHour = function(){
          var randomCustomerCount;
          for( var index = 0; index < ( this.close - this.open ); index++ ){
            randomCustomerCount = Math.random() * this.customerRange + this.minCustomerPerHour;
            this.donutsPerHour.push( Math.floor( randomCustomerCount * this.avgDonutsPerCustomer ) + 1);
          }
          return this.donutsPerHour;
        };
        this.getDonutsPerDay = function (){
          var dayDonuts = 0;
          for( var index = 0; index < this.donutsPerHour.length; index++ ){
            dayDonuts += this.donutsPerHour[index];
          }
          return dayDonuts;
        };
        this.getDonutsPerHour();
      };

      var downtown = new TopPot( "Downtown", 8, 43, 4.5, "720 3rd Ave Suite 100, Seattle" ),
          caphill = new TopPot( "Capitol Hill", 4, 37, 2, "1206 Madison St, Seattle" ),
          slu = new TopPot( "South Lake Union", 9, 23, 6.33, "590 Terry Ave N, Seattle" ),
          wedgewood = new TopPot( "Wedgewood", 2, 28, 1.25, "6855 35th Ave NE Seattle" ),
          ballard = new TopPot( "Ballard", 8, 58, 3.75, "1416 Northwest 46th Street #102, Seattle" );

      var donutMaster = new DonutMaster();
      donutMaster.addShop(downtown);
      donutMaster.addShop(caphill);
      donutMaster.addShop(slu);
      donutMaster.addShop(wedgewood);
      donutMaster.addShop(ballard);
      donutMaster.generateReport();
      donutMaster.generateLocation();
      //toggles on and off for data in the table when you click on the location
      $( "tr > th" ).click(function(){
        $( this ).nextAll( "td" ).fadeToggle(2000);
      });
      //changes color of navigation
      $( "article" ).hover(
        function() {
          $( this ).addClass( "hover" );
        },
        function() {
          $( this ).removeClass( "hover" );
        }
      );

    </script>
  </body>
</html>
